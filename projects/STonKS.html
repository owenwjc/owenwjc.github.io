<!DOCTYPE html>
<html>
<head>
  <title>STonKS</title>
  <meta charset = "UTF-8">
  <script src="https://d3js.org/d3.v4.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-cloud/1.2.5/d3.layout.cloud.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="icon" href="../Photos/logo.svg">
</head>
<style>
   body{
      background-color: #161616;
   }
   canvas{
      border: 0px;
      padding: 0px;
      background-color: #161616;
   }
   #lineDiv{
      background-color: #4b4b4b;
   }
   h1{
       text-align: center;
   }
   .btn {border-radius: 0;}
   p{
       color: white;
   }
   @media (min-width: 1200px){
       .container{
           max-width: 1920px;
       }
   }
</style>
<body>
    <nav class="navbar sticky-top navbar-expand-lg navbar-dark" style="background-color: #4b4b4b;">
        <a class="navbar-brand" href="/index.html">
            <img src="../Photos/logo.svg" width="30" height="30" alt="">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" href="">STonKS<span class="sr-only">(current)</span></a>
            </li>
          </ul>
        </div>
      </nav>
<div class="container">
    <div class = "row justify-content-center">
        <div class = "text-center" style="color: white; margin-top:50px; margin-bottom:30px">
            <h2>Supervised Trading on Key Sentiment (STonKS)</h2>
            <h5>An Exploratory Analysis of 2.39 million Reddit Comments</h5>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class = "col-xl-9" id = "networkDiv"></div>
        <div class = "col-xl-3">
            <p>Between October 1st 2019 and October 1st 2020 more than 10 million discussion comments were made on reddit's wallstreetbets, an investment subreddit home to 1.7 million hopeful gamblers.
                This community, due to a multitude of reasons namely quarantine, saw a meteoric rise during the past year almost tripling in subscribers.
                With a large community that actively talks about their next trades the discussion posts of WSB make an ideal playground to apply sentiment analysis and compare sentiment to the stocks that are being discussed.
                I took 30% of the discussion comments and after removing all the deleted comments and nontext comments I had 2.4 million comments that could be marked with a sentiment value. 
                Of which over 430 thousand comments contained at least one stock ticker or company mention and 61 thousand contained at least two tickers or mentions.
                Within the 61 thousand comments containing two or more stock tickers 2700 unique companies were mentioned.
                I chose to keep companies that had at least 25 mentions which took the network down to 350 nodes and 30 thousand edges.
            </p>
        </div>
    </div>
    <div class = "row justify-content-center">
        <div class = "col-12">
            <p><br>
                The network graph above represents the most common connections between companies made in the comments of WSB and some interesting patterns arise.
                For example there are strong connections between NKLA, TSLA, and GM since NKLA and GM announced a partnership agreement and NKLA's main competitor is TSLA.
                Another example are the airlines UAL, LUV, DAL, and AAL since they were all negatively affected by Covid in the same way and were thus mentioned in comments together.
                While exploring the network of comment mentions is interesting it doesn't really lead to any actionable insights.
                To gain a better understanding of my dataset I took the 11 most mentioned companies and SPY (WSB's index of choice) and graphed their stock performance against their respective comment volume and makeup.
                Since SPY is an whole market index I chose to include the sentiment data from every comment rather than just the ones mentioning SPY.
                To get the best visualization of overall market performance vs sentiment choose SPY in compare, normalize Bars, and turn on the trailing average. 
                You should also normalize the Lines on the base graph to compare the general trend of each company.
            </p>
        </div>
    </div>
    <div class="row justify-content-center" style="background-color: #4b4b4b;">
        <div class="col-xl-1">
            <div class = "row justify-content-center">
                <label style="color: white">Compare<br></label>
            </div>
            <div class = "row justify-content-center">
                <div class="btn-group-vertical btn-group-toggle" id="options" data-toggle="buttons">
                    <label class="btn btn-secondary">
                        <input type="checkbox" autocomplete="off" value="SPY" name="ticker"> SPY
                    </label>
                    <label class="btn btn-secondary">
                        <input type="checkbox" autocomplete="off" value="WMT" name="ticker"> WMT
                    </label>
                    <label class="btn btn-secondary">
                        <input type="checkbox" autocomplete="off" value="NKLA" name="ticker"> NKLA
                    </label>
                    <label class="btn btn-secondary">
                        <input type="checkbox" autocomplete="off" value="AMZN" name="ticker"> AMZN
                    </label>
                    <label class="btn btn-secondary">
                        <input type="checkbox" autocomplete="off" value="DIS" name="ticker"> DIS
                    </label>
                    <label class="btn btn-secondary">
                        <input type="checkbox" autocomplete="off" value="FB" name="ticker"> FB
                    </label>
                    <label class="btn btn-secondary">
                        <input type="checkbox" autocomplete="off" value="SPCE" name="ticker"> SPCE
                    </label>
                    <label class="btn btn-secondary">
                        <input type="checkbox" autocomplete="off" value="BA" name="ticker"> BA
                    </label>
                    <label class="btn btn-secondary">
                        <input type="checkbox" autocomplete="off" value="AMD" name="ticker"> AMD
                    </label>
                    <label class="btn btn-secondary">
                        <input type="checkbox" autocomplete="off" value="MSFT" name="ticker"> MSFT
                    </label>
                    <label class="btn btn-secondary">
                        <input type="checkbox" autocomplete="off" value="AAPL" name="ticker"> AAPL
                    </label>
                    <label class="btn btn-secondary">
                        <input type="checkbox" autocomplete="off" value="TSLA" name="ticker"> TSLA
                    </label><br>
                </div>
            </div>
            <div class = "row justify-content-center">
                <label style="color: white">Normalize<br></label>
            </div>
            <div class = "row justify-content-center">
                <div class = "btn-group-vertical btn-group-toggle" id="normalize" data-toggle="buttons">
                    <label class="btn btn-secondary">
                        <input type="checkbox" autocoplete="off" value="Bars" name="normalize">Bars
                    </label>
                    <label class="btn btn-secondary">
                        <input type="checkbox" autocoplete="off" value="Lines" name="normalize">Lines
                    </label><br>
                </div>
            </div>
            <div class = "row justify-content-center">
                <label style="color: white">Trailing Average<br></label>
            </div>
            <div class = "row justify-content-center">
                <div class = "btn-group btn-group-toggle" id="trail" data-toggle="buttons">
                    <label class="btn btn-secondary">
                        <input type="radio" autocoplete="off" value="On" name="trail">On
                    </label>
                    <label class="btn btn-secondary active">
                        <input type="radio" autocoplete="off" value="Off" name="trail" checked>Off
                    </label>
                </div>
            </div>

        </div>
        <div id = "lineDiv" class="col-xl-11"></div>
    </div>
    <div class = "row justify-content-center">
        <div class = "col-12">
            <p><br>
                Now a question you might be asking yourself is what exactly is in these comments. 
                Generally WSB discussion post comments are of stock positions focused mainly on highly volatile options known as Calls or Puts.
                But if you look at the word clouds for individual companies you can see mentions of their competitors or earnings.
            </p><br>
        </div>
    </div>
        <div class="row justify-content-center">
            <div class="col-auto" id = "bullishCloud"><h1 style="color:white;">Bullish</h1>
            </div>
            <div class = "col-auto" id = "neutralCloud"><h1 style="color:white;">Neutral</h1>
            </div>
            <div class = "col-auto" id = "bearishCloud"><h1 style="color:white;">Bearish</h1>
            </div>
        </div>
    </div>
</div>
</body>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src = "../scripts/network.js"></script>
<script src = "../scripts/wordCloud.js"></script>
<script src = "../scripts/lineBar.js"></script>
</html>